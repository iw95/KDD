\ifx\pdfminorversion\undefined\else\pdfminorversion=4\fi
\documentclass[aspectratio=169,t]{beamer}
%\documentclass[aspectratio=169,t,handout]{beamer}

% English version FAU Logo
\usepackage[english]{babel}
% German version FAU Logo
%\usepackage[ngerman]{babel}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{url}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{fontawesome}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{calc}
\usepackage{ifthen}
\usepackage{xcolor}
\usepackage{tikz}
\usepackage{tikz}
\usepackage{tikz-cd}
\usepackage{pgfplots,pgfplotstable,pgf-pie}
\usepackage{filecontents}
\newcommand{\plots}{0.611201}
\newcommand{\plotm}{2.19882}
\pgfplotsset{height=4cm,width=8cm,compat=1.17}
\pgfmathdeclarefunction{gauss}{2}{%
  \pgfmathparse{1/(#2*sqrt(2*pi))*exp(-((x-#1)^2)/(2*#2^2))}%
}

\tikzset{
    vertex/.style = {
        circle,
        fill            = black,
        outer sep = 2pt,
        inner sep = 1pt,
    }
}
\usetikzlibrary{matrix,mindmap}
\usetikzlibrary{arrows,decorations.pathmorphing,backgrounds,fit,positioning,shapes.symbols,chains,intersections,snakes}
\tikzset{level 1/.append style={sibling angle=50,level distance = 165mm}}
\tikzset{level 2/.append style={sibling angle=20,level distance = 45mm}}
\tikzset{every node/.append style={scale=1}}
% read in data file
\pgfplotstableread{data/iris.dat}\iris
% get number of data points
\pgfplotstablegetrowsof{\iris}
\pgfmathsetmacro\NumRows{\pgfplotsretval-1}
\definecolor{airforceblue}{rgb}{0.36, 0.54, 0.66}
\usepgfplotslibrary{groupplots}
\pgfplotsset{compat=1.14}
\newcommand{\tikzmark}[1]{\tikz[remember picture] \node[coordinate] (#1) {#1};}
% Options:
%  - inst:      Institute
%                 med:      MedFak FAU theme
%                 nat:      NatFak FAU theme
%                 phil:     PhilFak FAU theme
%                 rw:       RWFak FAU theme
%                 rw-jura:  RWFak FB Jura FAU theme
%                 rw-wiso:  RWFak FB WISO FAU theme
%                 tf:       TechFak FAU theme
%  - image:     Cover image on title page
%  - plain:     Plain title page
%  - longtitle: Title page layout for long title
\usetheme[%
  image,%
  longtitle,%
  tf
]{fau}

% Enable semi-transparent animation preview
\setbeamercovered{transparent}


\lstset{%
  language=Python,
  tabsize=2,
  basicstyle=\tt,
  keywordstyle=\color{blue},
  commentstyle=\color{green!50!black},
  stringstyle=\color{red},
  numbers=left,
  numbersep=0.5em,
  xleftmargin=1em,
  numberstyle=\tt
}


% Title, authors, and date
\title[KDD]{Chapter IV: Preprocessing}
\subtitle{Knowledge Discovery in Databases}
\author[L.~Melodia]{Luciano Melodia M.A.}
% English version
\institute[Department]{Evolutionary Data Management, Friedrich-Alexander University Erlangen-NÃ¼rnberg}
% German version
%\institute[Lehrstuhl]{Lehrstuhl, Friedrich-Alexander-Universit\"at Erlangen-N\"urnberg}
\date{Summer semester 2021}
% Set additional logo (overwrites FAU seal)
%\logo{\includegraphics[width=.15\textwidth]{themefau/art/xxx/xxx.pdf}}
\begin{document}
  % Title
  \maketitle

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Chapter IV: Preprocessing}
    This is our agenda for this lecture:
        \begin{itemize}
            \item \textbf{Data preprocessing: an overview.}
            \begin{itemize}
              \item Data quality.
              \item Major tasks in data preprocessing.
            \end{itemize}
            \item Data cleaning.
            \item Data integration.
            \item Data reduction.
            \item Data transformation and data discretization.
            \item Summary.
        \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Data quality: why preprocess the data?}
    This is our agenda for this lecture:
        \begin{itemize}
            \item \textbf{Measures for {\color{airforceblue}data quality}: A multidimensional view:}
            \begin{itemize}
              \item \textbf{Accuracy:} correct or wrong, accurate or not.
              \item \textbf{Completeness:} not recorded, unavailable.
              \item \textbf{Consistency:} some modified but some not, dangling refs, etc.
              \item \textbf{Timeliness:} timely updated?
              \item \textbf{Believability:} how trustworthy is it, that the data is correct?
              \item \textbf{Interpretability:} how easily can the data be understood?
              \item And even many more!
            \end{itemize}
        \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Major tasks in data preprocessing}
      \begin{itemize}
        \item \textbf{Data cleaning:}
        \begin{itemize}
          \item Fill in missing values.
          \item Smooth noisy data.
          \item Identify or remove outliers.
          \item Resolve inconsistencies.
        \end{itemize}
        \item \textbf{Data integration:}
        \begin{itemize}
          \item Integration of multiple databases.
          \item Data cubes or files.
        \end{itemize}
        \item \textbf{Data reduction:}
        \begin{itemize}
          \item Dimensionality reduction.
          \item Numerosity reduction.
          \item Data compression.
        \end{itemize}
        \item \textbf{Data transformation and data discretization:}
        \begin{itemize}
          \item Normalization.
          \item Concept-hierarchy generation.
        \end{itemize}
      \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Chapter IV: Preprocessing}
        \begin{itemize}
            \item Data preprocessing: an overview.
            \begin{itemize}
              \item Data quality.
              \item Major tasks in data preprocessing.
            \end{itemize}
            \item \textbf{Data cleaning.}
            \item Data integration.
            \item Data reduction.
            \item Data transformation and data discretization.
            \item Summary.
        \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Data cleaning}
      \textbf{Data in the real world is {\color{airforceblue}dirty}. Lots of potentially incorrect data:}
      \begin{itemize}
        \item E.g. instrument faukty, human or computer error, transmission error.
        \item \textbf{\color{airforceblue}Incomplete:} lacking attributes, lacking certain attributes of interest or containing aggregate data.
        \begin{itemize}
          \item E.g. occupation = "" (missing data).
        \end{itemize}
        \item \textbf{\color{airforceblue}Noisy:} containing noise, errors or outliers.
        \begin{itemize}
          \item Stochastic deviation, imprecision.
          \item E.g. measurements.
        \end{itemize}
        \item \textbf{\color{airforceblue}Inconsistencies:} containing discrepancies in codes or names.
        \begin{itemize}
          \item E.g. age = "42", birthday = "03/07/2010".
          \item Was rating "1,2,3" and now it is "A,B,C".
          \item Discrepancy between duplicate records (e.g. address old and new).
        \end{itemize}
        \item \textbf{\color{airforceblue}Intentional} (only default value, e.g. disguised missing data):
        \begin{itemize}
          \item Jan. 1 as everyone's birthday?
        \end{itemize}
      \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Incomplete (missing) data}
    \begin{itemize}
      \item \textbf{Data is not always available.}
      \begin{itemize}
        \item E.g. many tuples have no recorded value for several attributes.
        \item Examples are customer income in sales data.
      \end{itemize}
      \item \textbf{Missing data may be due to:}
      \begin{itemize}
        \item Equipment malfunction.
        \item Inconsistency with other recorded data and thus deleted.
        \item Data not entered due to misunderstanding.
        \item Certain data may not be considered important at the time of entry.
        \item Not registered history or changes of the data.
      \end{itemize}
      \item \textbf{Missing data may need to be inferred.}
    \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{How to handle missing data?}
    \begin{itemize}
      \item \textbf{Ignore the tuple:}
      \begin{itemize}
        \item Usually done when class label is missing (when doing classification).
        \item Not effective when the percentage of missing values per attribute varies considerably.
      \end{itemize}
      \item \textbf{Fill in the missing value manually.}
      \begin{itemize}
        \item Tedious or infeasible.
      \end{itemize}
      \item \textbf{Fill in automatically with:}
      \begin{itemize}
        \item A global constant, e.g. "unkown", maybe a new class.
        \item The attribute mean.
        \item The attribute mean for all samples belonging to the same class.
        \item \textbf{\color{airforceblue} The most probable value:} Inference-based such as Bayesian formula or decision tree.
      \end{itemize}
    \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Noisy data?}
    \begin{itemize}
      \item \textbf{\color{airforceblue}Noise:}
      \begin{itemize}
        \item Random error or variance in a measured variable.
        \item Stored value a little bit off the real value, up or down.
        \item Leads to (slightly) incorrect attribute values.
      \end{itemize}
      \item \textbf{May be due to:}
      \begin{itemize}
        \item Faulty or imprecise data-collection instruments.
        \item Data-entry problems.
        \item Data-transmission problems.
        \item Technology limitation.
        \item Inconsistency in naming conventions.
      \end{itemize}
    \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{How to handle noisy data?}
    \begin{itemize}
        \item \textbf{Beginning:}
        \begin{itemize}
          \item First sort data and partition into (equal-frequency) bins.
          \item Then smooth by bin mean, by bin median or by bin boundaries.
        \end{itemize}
        \item \textbf{Regression:}
        \begin{itemize}
          \item Smooth by fitting the data to regression functions.
        \end{itemize}
        \item \textbf{Clustering:}
        \begin{itemize}
          \item Detect and remove outliers.
        \end{itemize}
        \item \textbf{Combined computer and human inspection:}
        \begin{itemize}
          \item Detect suspicious values and check by human.
          \item E.g. deal with possible outliers.
        \end{itemize}
    \end{itemize}
    \end{frame}
  }

 { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Data cleaning as a process}
    \begin{itemize}
      \item \textbf{Data-discrepancy detection:}
      \begin{itemize}
        \item Use \textbf{\color{airforceblue}metadata} (e.g. domain, range, dependency, distribution).
        \item Check field overloading.
        \item Check uniqueness rule, consecutive rule and null rule.
        \item Use commercial tools:
        \begin{itemize}
          \item \textbf{\color{airforceblue}Data scrubbing:} use simple domain knowledge (e.g. postal code, spell-check) to detect errors and make corrections.
          \item \textbf{\color{airforceblue}Data auditing:} by analyzing data to discover rules and relationsships to detect violators (e.g. correlation and clustering to find outliers).
        \end{itemize}
        \item \textbf{Data migration and integration:}
        \begin{itemize}
          \item Data-migration tools: allow transformations to be specified.
          \item ETL (Extraction/Transformation/Loading) tools: allow users to specify transformations through a graphical user interface.
        \end{itemize}
        \item \textbf{Integration of the two processes.}
        \begin{itemize}
          \item Iterative and interactive (e.g. the Potter's Wheel tool).
        \end{itemize}
      \end{itemize}
    \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Chapter IV: Preprocessing}
        \begin{itemize}
            \item Data preprocessing: an overview.
            \begin{itemize}
              \item Data quality.
              \item Major tasks in data preprocessing.
            \end{itemize}
            \item Data cleaning.
            \item \textbf{Data integration.}
            \item Data reduction.
            \item Data transformation and data discretization.
            \item Summary.
        \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Data integration}
    \begin{itemize}
       \item \textbf{Data integration:}
       \begin{itemize}
        \item Combine data from multiple sources into a coherend store.
       \end{itemize}
       \item \textbf{Schema integration:}
       \begin{itemize}
        \item E.g. \texttt{A.cust-id} $\equiv$ \texttt{B.cust-\#}.
        \item Integrate metadata from different sources.
       \end{itemize}
       \item \textbf{Entity-identification problem:}
       \begin{itemize}
        \item Identify the same real-world entities from multiple data sources.
        \item E.g. Bill Clinton = William Clinton.
       \end{itemize}
       \item \textbf{Detecting and resolving {\color{airforceblue}data-value conflicts}:}
       \begin{itemize}
        \item For the same real world entity, attribute values from different sources are different.
        \item Possible reasons:
        \begin{itemize}
          \item Different representations (coding).
          \item Different scales, e.g. metric vs. British units.
        \end{itemize}
       \end{itemize}
    \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Handling redundancy in data integration}
    \begin{itemize}
      \item \textbf{Redundant data often occur when integrating multiple databases.}
      \begin{itemize}
        \item \textbf{Object (entity) identification:} \\
              The same attribute or object may have different names in different databases.
        \item \textbf{Derivable data:}\\
              One attribute may be a "derived" attribute in another table. E.g. annual revenue.
      \end{itemize}
      \item \textbf{Redundant attributes:}
      \begin{itemize}
        \item Can be detected by \textbf{\color{airforceblue}correlation analysis} and \textbf{\color{airforceblue}covariance analysis}.
      \end{itemize}
      \item \textbf{Careful integration of the data from multiple sources:}
      \begin{itemize}
        \item Helps to reduce\/avoid redundancies and inconsistencies and improve mining speed and quality.
      \end{itemize}
    \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Correlation analysis for nominal data (I)}
      \begin{itemize}
        \item \textbf{Two attributes:}
        \begin{itemize}
          \item $A$ has $n$ distinct values: $A := \{a_1, a_2, \ldots, a_n\}$.
          \item $B$ has $m$ distinct values: $B := \{b_1, b_2, \ldots, b_m\}$.
        \end{itemize}
        \item \textbf{\color{airforceblue}Contingency table:}
        \begin{itemize}
          \item Columns: the $n$ values of $A$.
          \item Rows: the $m$ values of $B$.
          \item Cells: counts of records with \\
          $A' = \{ a_i \in A \; : \; a_i = a_k \; \text{for} \; a_k \in A\}$ and \\
          $B' = \{ b_j \in B \; : \; b_j = b_l \; \text{for} \; b_l \in B\}$.
        \end{itemize}
        \item \textbf{Expected count in cell $(i,j)$:}
        \begin{align}
          e_{ij} = \frac{\#A' \cdot \#B'}{\#A + \#B},
        \end{align}
        \item where $\#A + \#B$ is the total number of records.
      \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Correlation analysis for nominal data (II)}
      \begin{itemize}
        \item \textbf{\color{airforceblue}$\chi^2$-test:}
        \begin{align}
          \chi^2 = \sum_{i=1}^{N} \frac{(x_i-\hat{x}_i)^2}{\hat{x}_i}.
        \end{align}
        \item Summing over all cells of the contingency table.
        \item No correlation (i.e. independence of attributes) yields $\chi^2$ value of zero.
        \item The larger the $\chi^2$ value, the more likely the variables are related.
        \item The cells that contribute the most to the $\chi^2$ value
are those whose actual count is very different from the expected count.
      \end{itemize}
      \begin{itemize}
        \item \textbf{Correlation does not imply causality!}
        \item E.g. $\#$ of hospitals and $\#$ of car-thefts in a city are correlated.
        \item Both are causally linked to the third variable: population.
      \end{itemize}
    \end{frame}
  }

  { 
    \setbeamertemplate{footline}{}
    \begin{frame}{Correlation analysis for nominal data (II)}
    \centering
    \begin{tabular}{l|c|c|c|}
    & Play chess & Not play chess & Sum (row)\\\hline
    Like Science fiction & $250 (90)$ & $200 (360)$ & $450$ \\\hline
    Not like science fiction & $50 (210$ & $1000 (840)$ & $1050$\\\hline
    Sum (column) & $300$ & $1200$ & $1500$\\\hline
    \end{tabular}
    \begin{itemize}
      \item Numbers in parenthesis are expected counts calculated based on the data distribution in the two categories.
      \item $\chi^2$ calculation:
      \begin{align}
      \chi^2 = \frac{(250-90)^2}{90} + \frac{(50-210)^2}{210} + \frac{(200-360)^2}{360} + \frac{(1000-840)^2}{840} = 507.93.
      \end{align}
      \item It shows that "like science fiction" and "play chess" are correlated in the group.
    \end{itemize}
    \end{frame}
  }


  { % Questions?
    \setbeamertemplate{footline}{}
    \begin{frame}[c]
      \begin{center}
        Thank you for your attention.\\
        {\bf Any questions about the forth chapter?}\\[0.5cm]
        Ask them now, or again, drop me a line: \\ 
        \faSendO \ \texttt{luciano.melodia@fau.de}.
      \end{center}
    \end{frame}
  }
\end{document}

